<!doctype html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Juego para que Gurutz sea menos anticapitalista</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;700&family=IBM+Plex+Serif:wght@400;600&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div class="bg-shape bg-shape-1" aria-hidden="true"></div>
    <div class="bg-shape bg-shape-2" aria-hidden="true"></div>

    <header class="hero">
      <p class="eyebrow">Aprende jugando</p>
      <h1>Juego para que Gurutz sea menos anticapitalista</h1>
      <p class="personal-note">
        Para <strong id="friendNameHero">Gurutz Gorrotxategi</strong>: mira
        datos reales, compara modelos y saca tus propias conclusiones.
      </p>
      <p class="hero-copy">
        Un recorrido en modo juego sobre capitalismo, socialismo y economías
        mixtas, con ejemplos históricos de verdad.
      </p>
      <div class="vibe-tags" aria-hidden="true">
        <span class="vibe-tag">debate mode</span>
        <span class="vibe-tag">hot takes + datos</span>
        <span class="vibe-tag">level up</span>
      </div>

      <section class="hud" aria-label="Progreso del jugador">
        <article class="hud-card">
          <p class="hud-label">Progreso</p>
          <div
            class="progress-bar"
            role="progressbar"
            aria-valuemin="0"
            aria-valuemax="100"
            aria-valuenow="0"
          >
            <div id="progressFill"></div>
          </div>
          <p id="progressText" class="hud-value">0%</p>
        </article>

        <article class="hud-card">
          <p class="hud-label">XP</p>
          <p id="xpText" class="hud-value">0 XP</p>
          <p id="rankText" class="hud-subvalue">Rango: Novato</p>
        </article>

        <article class="hud-card">
          <p class="hud-label">Insignias</p>
          <div id="badgeList" class="badge-list"></div>
        </article>
      </section>

      <div class="hero-actions">
        <button id="soundToggleBtn" class="btn btn-secondary" type="button">
          Sonido: ON
        </button>
        <button id="announcerToggleBtn" class="btn btn-secondary" type="button">
          Voz: ON
        </button>
        <button id="confettiToggleBtn" class="btn btn-secondary" type="button">
          Confetti: ON
        </button>
        <button id="resetBtn" class="btn btn-secondary" type="button">
          Empezar de cero
        </button>
      </div>
    </header>

    <main>
      <section class="stage-tracker" aria-label="Progreso por etapas">
        <div class="stage-top">
          <p id="stageLabel">Paso 1 de 3: Briefing</p>
          <p id="stagePercent">33%</p>
        </div>
        <div class="stage-bar">
          <div id="stageFill"></div>
        </div>
      </section>

      <section class="game-screen active-screen" id="screenIntro">
        <article class="panel">
          <div class="panel-header">
            <h2>Briefing inicial</h2>
            <p>
              Esto va por fases: primero pillas el contexto, luego eliges nivel
              y después completas la misión.
            </p>
          </div>
          <div class="screen-actions">
            <button id="startGameBtn" class="btn" type="button">
              Empezar partida
            </button>
          </div>
        </article>
      </section>

      <section class="game-screen" id="screenMap">
        <section
          class="levels"
          id="levelsContainer"
          aria-label="Niveles de aprendizaje"
        ></section>
      </section>

      <section class="game-screen" id="screenLevel">
        <section class="panel hidden" id="lessonPanel" aria-live="polite">
          <div class="panel-header">
            <h2 id="lessonTitle"></h2>
            <p id="lessonSummary"></p>
          </div>
          <div id="lessonBody"></div>
          <div class="panel-actions">
            <button id="backToMapBtn" class="btn btn-secondary" type="button">
              Volver al mapa
            </button>
            <button id="completeBtn" class="btn">Terminar nivel</button>
          </div>
        </section>
      </section>
    </main>

    <footer>
      <p>
        Modo personalizado para <strong id="friendNameFooter">Gurutz Gorrotxategi</strong>.
      </p>
      <p>
        Este proyecto es para debatir con cabeza: compara sistemas económicos
        con casos reales y evidencia.
      </p>
    </footer>

    <section id="cinematicOverlay" class="cinematic-overlay hidden" aria-live="polite">
      <article class="cinematic-card">
        <p class="cinematic-kicker">Transición</p>
        <h3 id="cinematicText">Cargando siguiente pantalla...</h3>
        <div class="cinematic-bar">
          <span class="cinematic-bar-fill"></span>
        </div>
      </article>
    </section>

    <section id="unlockSplash" class="unlock-splash hidden" aria-live="polite">
      <article class="unlock-card">
        <p class="unlock-kicker">Nuevo desbloqueo</p>
        <h3 id="unlockTitle">Nivel desbloqueado</h3>
        <p id="unlockText">Ya puedes entrar al siguiente nivel.</p>
        <button id="unlockCloseBtn" class="btn" type="button">Seguir</button>
      </article>
    </section>

    <canvas id="confettiCanvas" aria-hidden="true"></canvas>
    <script src="script.js"></script>
  </body>
</html>
